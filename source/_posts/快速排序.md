---
title: å¿«é€Ÿæ’åºï¼ˆä¸€ï¼‰
date: 2021-08-09 15:04:07
index_img: https://cdn.jsdelivr.net/gh/suxss/image/2021/wallhaven-pkj789.jpg
banner_img: https://cdn.jsdelivr.net/gh/suxss/image/2021/wallhaven-pkj789.jpg
excerpt: é—²ç€æ— èŠ
categories:
  - å­¦ä¹ 
  - ç®—æ³•
tags:
  - python
---

æœ€è¿‘å€Ÿäº†äº›ä¹¦ï¼Œæœ‰æœ¬å«åš<u>ç®—æ³•ä¸ç¨‹åºè®¾è®¡(Python)</u>ï¼Œç„¶è€Œé‡Œé¢300é¡µåªæœ‰80é¡µåœ¨è®²ç®—æ³•ï¼Œå¤§éƒ¨åˆ†åœ¨è®²PythonåŸºç¡€ï¼Œæœ‰ç§è¢«éª—äº†çš„æ„Ÿè§‰ğŸ˜

ç®—æ³•éƒ¨åˆ†ä¹Ÿå¾ˆå¤šéƒ½æ˜¯å¾ˆåŸºç¡€çš„å†…å®¹ã€‚

é‡Œé¢æœ‰ä¸€ä¸ªè®²çš„æ˜¯å¿«é€Ÿæ’åºï¼Œå¿«æ’çš„å¤§åå¯ä»¥è¯´æ˜¯æ—©æœ‰è€³é—»äº†ğŸ˜„ï¼Œä½†æ˜¯ä¸€ç›´æ²¡å­¦ï¼Œä¸Šå­¦æœŸè‡ªå·±å»çœ‹äº†ä¸‹å¤§è‡´çš„åŸç†ï¼Œä½†æ˜¯æ²¡ç©ºæŠŠå®ç°çš„ä»£ç å†™å‡ºæ¥ï¼Œä¹Ÿæ‡’å¾—å»æ‰¾ä»£ç ã€‚çœ‹åˆ°è¿™æœ¬ä¹¦é‡Œæœ‰å¿«æ’ï¼Œæˆ‘æ»¡æ€€å¸Œæœ›åœ°ç¿»åˆ°è¿™ä¸€éƒ¨åˆ†ï¼Œæ‰å‘ç°å¹¶æ²¡æœ‰ç»™å‡ºå®ç°çš„ä»£ç ï¼Œä¹Ÿæ˜¯è®²äº†ä¸€ä¸‹åŸç†ï¼Œç»™äº†å¤§è‡´çš„ä¼ªä»£ç ã€‚ç°åœ¨æ­£å¥½æ— èŠï¼Œå°±è¯•ç€æ ¹æ®åŸç†å†™å†™è¿™ä¸ªå®ç°ä»£ç ã€‚

---

å› ä¸ºå¯¹Pythonæ¯”è¾ƒç†Ÿï¼Œè€Œä¸”Pythonè¯­æ³•æ›´ç®€å•ï¼Œå°±å…ˆå†™å¿«æ’çš„Pythonå®ç°

```python
def quick_sort(num_list: list) -> list:
    if len(num_list) > 1:  # å¦‚æœé•¿åº¦ç­‰äº1å°±ä¸ç”¨æ’åºï¼Œç›´æ¥è¿”å›
        x = len(num_list)//2  # éšä¾¿æ‰¾ä¸€ä¸ªå‚è€ƒæ•°
        list_1 = []  # list_1é‡Œæ”¾æ¯”å‚è€ƒæ•°å°çš„
        list_2 = []  # list_2é‡Œæ”¾æ¯”å‚è€ƒæ•°å¤§çš„
        for item in num_list:
            if item < num_list[x]:
                list_1.append(item)
            else:
                list_2.append(item)
        # å‡½æ•°é€’å½’ï¼Œåˆ†åˆ«å¯¹list_1,list_2è¿›è¡Œå¿«é€Ÿæ’åºï¼Œå†åˆå¹¶èµ·æ¥
        sorted_list = quick_sort(list_1)
        sorted_list.append(num_list[x])
        sorted_list.extend(quick_sort(list_2))
        return sorted_list
    else:
        return num_list
```

ä¸€å¼€å§‹å¾ˆé¡ºåˆ©çš„å†™äº†å‡ºæ¥ï¼Œç„¶è€Œè¿è¡Œå‡ºäº†é—®é¢˜

æµ‹è¯•ä»£ç å¦‚ä¸‹

```python
if __name__ == '__main__':
    a = [2, 1, 6, 3, 2, 8, 1]
    b = quick_sort(a)
    print(b)
```

è¿è¡Œåï¼Œç¨‹åºæŠ¥é”™å¦‚ä¸‹

```
Traceback (most recent call last):
  File "****\main.py", line 20, in <module>
    b = quick_sort(a)
  File "****\main.py", line 11, in quick_sort
    sorted_list = quick_sort(list_1)
  File "****\main.py", line 11, in quick_sort
    sorted_list = quick_sort(list_1)
  File "****\main.py", line 12, in quick_sort
    sorted_list.extend(quick_sort(list_2))
  File "****\main.py", line 12, in quick_sort
    sorted_list.extend(quick_sort(list_2))
  File "****\main.py", line 12, in quick_sort
    sorted_list.extend(quick_sort(list_2))
  [Previous line repeated 992 more times]
  File "****\main.py", line 11, in quick_sort
    sorted_list = quick_sort(list_1)
  File "****\main.py", line 2, in quick_sort
    if len(num_list) > 1:
RecursionError: maximum recursion depth exceeded while calling a Python object

è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 1
```

å…¶ä¸­é—®é¢˜çš„ç¿»è¯‘å¦‚ä¸‹

```
RecursionErrorï¼šè°ƒç”¨ Python å¯¹è±¡æ—¶è¶…å‡ºäº†æœ€å¤§é€’å½’æ·±åº¦
```

ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹

Pythoné€’å½’æ·±åº¦æœ€å¤š1000

ä½†æ˜¯æˆ‘è¿™é‡Œæµ‹è¯•ç”¨çš„åˆ—è¡¨`a`çš„é•¿åº¦ä¸º7ï¼ŒæŒ‰ç†è¯´æ­£å¸¸è¿è¡Œä¸ä¼šè¶…è¿‡1000çš„é€’å½’æ·±åº¦ï¼Œäºæ˜¯æˆ‘åŠ äº†æ‰“å°ä»£ç ï¼Œçœ‹çœ‹æ’åºçš„è¿‡ç¨‹å¦‚ä½•

```python
print(f"list_1:{list_1}")
print(f"x:{x}")
print(f"list_2:{list_2}")
```

è¾“å‡ºæ˜¾ç¤ºå½“æœ‰ä¸¤ä¸ªæ•°ç›¸åŒæ—¶(å¦‚ä¸‹)ä¼šä¸€ç›´é‡å¤çš„é€’å½’

```python
list_1:[]
x:1
list_2:[1, 1]
```

äºæ˜¯æƒ³åˆ°æ’åºçš„è¿‡ç¨‹ä¸­åŠ å…¥ç¬¬ä¸‰ä¸ªåˆ—è¡¨ï¼Œæ”¾ç½®ä¸å‚è€ƒæ•°ç›¸åŒçš„æ•°

æ”¹è¿›çš„ä»£ç å¦‚ä¸‹

```python
def quick_sort(num_list: list) -> list:
    if len(num_list) > 1:
        x = len(num_list)//2
        list_1 = []
        list_3 = []
        list_2 = []
        for item in num_list:
            if item < num_list[x]:
                list_1.append(item)
            elif item > num_list[x]:
                list_2.append(item)
            else:
                list_3.append(item)
        sorted_list = quick_sort(list_1)
        sorted_list.extend(list_3)
        sorted_list.extend(quick_sort(list_2))
        return sorted_list
    else:
        return num_list
```

æˆåŠŸè¿è¡Œï¼Œç»“æœå¦‚ä¸‹

```
[1, 1, 2, 2, 3, 6, 8]
```

---

è¿™è¿˜ä¸å¤Ÿï¼Œå¦‚æœæµ‹è¯•æ•°æ®å¤§ä¸€äº›å‘¢ï¼Ÿèƒ½å¦æ­£å¸¸è¿è¡Œï¼Ÿ

ä¸ºæ­¤ï¼Œå¼•å…¥`random`åº“ï¼Œç»§ç»­å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹

```python
if __name__ == '__main__':
    import random
    n = 10000
    a = []
    for i in range(n):
        a.append(random.randint(1, n))
    b = quick_sort(a)
    print(b)
```

1ä¸‡ä¸ªæ•°æ’åºèµ·æ¥å¥½åƒç¡®å®æŒºå¿«çš„ï¼Œç¬é—´å‡ºç»“æœï¼Œæ€»æ‰€å‘¨çŸ¥Pythonçš„è¿è¡Œé€Ÿåº¦æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯æŒºæ„å¤–çš„

---

ä¸‹é¢è¿›ä¸€æ­¥æµ‹è¯•å¿«æ’çš„æ€§èƒ½

å°†å…¶ä¸é€‰æ‹©æ’åºå’Œå†’æ³¡æ’åºè¿›è¡Œæ¯”è¾ƒ

é€‰æ‹©æ’åºä»£ç å¦‚ä¸‹

```python
def select_sort(num_list: list) -> list:
    for i in range(len(num_list)):
        j = num_list[i:].index(min(num_list[i:])) + i
        num_list[i], num_list[j] = num_list[j], num_list[i]
    return num_list
```

å†’æ³¡æ’åºä»£ç å¦‚ä¸‹

```python
def bubble_sort(num_list: list) -> list:
    for i in range(len(num_list)):
        for j in range(i + 1, len(num_list)):
            if num_list[i] > num_list[j]:
                num_list[i], num_list[j] = num_list[j], num_list[i]
    return num_list
```

æµ‹è¯•ä»£ç å¦‚ä¸‹

```python
if __name__ == '__main__':
    import random
    import time
    
    n = 10000
    a = []
    for i in range(n):
        a.append(random.randint(1, n))

    t1 = time.time()
    b = quick_sort(a)
    t2 = time.time()
    print(f"quick_sort:{t2-t1}s")

    t1 = time.time()
    c = select_sort(a)
    t2 = time.time()
    print(f"select_sort:{t2 - t1}s")

    t1 = time.time()
    d = bubble_sort(a)
    t2 = time.time()
    print(f"bubble_sort:{t2 - t1}s")
```

è¿è¡Œç»“æœå¦‚ä¸‹

```python
quick_sort:0.013994216918945312s  # å¿«é€Ÿæ’åº
select_sort:0.8812062740325928s  # é€‰æ‹©æ’åº
bubble_sort:2.001237630844116s  # å†’æ³¡æ’åº
```

ä»ç»“æœæ¥çœ‹å¿«é€Ÿæ’åºé€šå¸¸æƒ…å†µä¸‹ç¡®å®è¦æ¯”å¦å¤–ä¸¤ç§æ’åºæ–¹æ³•å¿«çš„

---

å®Œæ•´ä»£ç å¦‚ä¸‹

```python
def quick_sort(num_list: list) -> list:
    if len(num_list) > 1:
        x = len(num_list)//2
        list_1 = []
        list_3 = []
        list_2 = []
        for item in num_list:
            if item < num_list[x]:
                list_1.append(item)
            elif item > num_list[x]:
                list_2.append(item)
            else:
                list_3.append(item)
        sorted_list = quick_sort(list_1)
        sorted_list.extend(list_3)
        sorted_list.extend(quick_sort(list_2))
        return sorted_list
    else:
        return num_list


def select_sort(num_list: list) -> list:
    for i in range(len(num_list)):
        j = num_list[i:].index(min(num_list[i:]))+i
        num_list[i], num_list[j] = num_list[j], num_list[i]
    return num_list


def bubble_sort(num_list: list) -> list:
    for i in range(len(num_list)):
        for j in range(i + 1, len(num_list)):
            if num_list[i] > num_list[j]:
                num_list[i], num_list[j] = num_list[j], num_list[i]
    return num_list


if __name__ == '__main__':
    import random
    import time
    n = 10000
    a = []
    for i in range(n):
        a.append(random.randint(1, n))

    t1 = time.time()
    b = quick_sort(a)
    t2 = time.time()
    print(f"quick_sort:{t2-t1}s")

    t1 = time.time()
    c = select_sort(a)
    t2 = time.time()
    print(f"select_sort:{t2 - t1}s")

    t1 = time.time()
    d = bubble_sort(a)
    t2 = time.time()
    print(f"bubble_sort:{t2 - t1}s")

```

